# 機能一覧（PoC想定）

目的: 生成AIが会議にリアルタイム参加し、内容を把握し、事前ポリシーに沿って適切に介入（チャット優先／必要に応じて音声）する。

前提（ユーザー回答反映）
- 言語: 日本語を優先（単一言語対応から開始）
- 介入頻度/程度: 未定（動かしながら調整）
- 出力チャネル: まずは会議内チャット優先。同内容の音声出力は容易と想定
- プラットフォーム: まずは Amazon Chime SDK によるPoC。サードパーティ会議（Zoom/Teams/Meet）は後続
- ナレッジ連携/KPI/予算・運用: 現時点未定（TBD）

---

## トップレベル機能ツリー
- 音声取得・会議連携
  - 会議プラットフォーム連携
    - Amazon Chime SDK（PoC用ルーム、入室・録音・チャット投稿・音声注入）
    - 後続: Zoom/Google Meet/Microsoft Teams のボット連携（TBD）
  - 音声入出力
    - 受信: マルチチャネル/モノラル音声ストリーム（WebRTC/SFU）
    - 出力: エージェントのTTS音声を会議に注入（任意）
  - ネットワーク・リアルタイム制御
    - VAD（Voice Activity Detection）
    - 音量正規化/ノイズ抑制/エコーキャンセル

- 音声処理（ASR/翻訳）
  - ストリーミング文字起こし（低遅延、部分結果・確定結果）
  - 話者分離/話者ラベル付与（diarization）
  - カスタム語彙（用語強化）
  - 参考: 翻訳（必要時、TBD）

- 逐次理解・コンテキスト維持
  - 文字起こしストリーム取り込み（イベント駆動 / ポーリング）
  - 会議メモリ
    - 短期: 直近発話バッファ
    - 長期: 要約＋ベクトルメモリ（TBD: ストア種別）
  - トピック検出・意図推定・アクション項目抽出
  - 事前プロンプト（ポリシー）に基づく「介入トリガー」検出
    - 例: 仕様の矛盾、決定の明確化、要件未定義、タイムボックス超過、論点逸脱、まとめの要求
  - セーフティ/ガードレール（特定話題禁止・守秘/法令遵守）

- 介入生成（エージェント推論）
  - テキスト応答生成（少数ショット、ツール使用/RAG連携も視野）
  - スタイル制御（丁寧語/簡潔/時間制約）
  - 根拠提示（発話引用/RAGで条項参照）
  - 低遅延要約/要点リマインド/質問生成

- 出力・配信
  - 会議チャット投稿（優先）
  - 音声発話（TTS）
  - 画面用ライブノート（要点、未決事項、タイマー、アクションアイテム）

- 管理・運用
  - 設定UI（プロンプト方針、介入レベル、用語辞書）
  - ログ/監査/データエクスポート
  - 権限管理・同意取得・PIIマスキング（現時点の扱いはADR/TBD）
  - コスト/レイテンシ/品質メトリクス

- 事後処理
  - 自動議事録（要約、決定・ToDo、担当/期限）
  - 外部連携（Jira, Asana, Salesforce など）
  - ファイル出力（S3, PDF, Google Docs, Confluence）

---

## リアルタイム性の目標（初期）
- 発話終了→介入テキスト表示: 1.5–3.0秒
- 音声発話込み: 2.5–4.5秒
- 参考内訳
  - ASR: 0.3–0.8s（部分）/ 1.0–1.8s（確定）
  - LLM生成: 0.3–1.2s（短文）/ 1.2–3.5s（長文）
  - TTS: 0.2–0.6s（短文）

---

## 技術的リスク（抜粋）
- 雑音・重なり話者によるASR精度悪化 → チャネル分離、ノイズ抑制、カスタム語彙
- 過剰介入/誤介入 → 二段承認（まずチャット）、しきい値調整、司会許可
- レイテンシ悪化 → 低遅延モデル、同一リージョン、ストリーミング優先
- セキュリティ/同意 → UIで明示、データ保持最小化、PIIマスキング（ポリシーTBD）
